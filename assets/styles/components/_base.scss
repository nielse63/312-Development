//
// Name:            Base
//
// Description:     Contains all base styles, including basic resets
//

// ========================================================================
// Variables
// ========================================================================

$link-transition-duration: $global-transition-duration;
$link-color: $color-orange;
$link-color-hover: darken($link-color, 7%);

// ========================================================================
// Component
// ========================================================================

body {
	overflow-x: hidden;

	@media (max-width: $breakpoint-small-max) {
		perspective: 100vh;
		perspective-origin: 50vw 50vh;
		transition: 0.5s background-color;
		will-change: background-color;

		.menu-open & {
			background-color: fade-out($global-font-color, 0.5);
		}
	}
}

a {
	transition: color $link-transition-duration;
	color: $link-color;

	&:hover,
	&:focus {
		color: $link-color-hover
	}
}

main {
	background-color: $color-white;
}

.hidden {
	display: none;
}

.container {
	&-center {
		margin-left: auto;
		margin-right: auto;
	}
}

@keyframes hideBodyWrap {
	to {
		transform: translate(-50vw) rotateY(35deg) translateZ(-175px);
		opacity: 0.5;
	}
}

@keyframes showBodyWrap {
	from {
		transform: translate(-50vw) rotateY(35deg) translateZ(-175px);
		opacity: 0.5;
	}
	to {
		transform: none;
		opacity: 1;
	}
}

.body-wrap {
	@media (max-width: $breakpoint-small-max) {
		// transition: transform $global-menu-transition-duration,
		// 			opacity $global-menu-transition-duration;
		position: relative;
		z-index: 1;
		transform-style: preserve-3d;

		.menu-open & {
			animation: $global-menu-transition-duration hideBodyWrap both;
			overflow: hidden;
			height: 100vh;
			pointer-events: none;
		}

		.menu-closed & {
			animation: $global-menu-transition-duration showBodyWrap both;
		}

		&:after {
			position: absolute;
			top: 0;
			right: 0;
			width: 0;
			height: 0;
			background-color: fade-out($color-black, 0.4);
			content: '';
			opacity: 0;
			transition: opacity $global-menu-transition-duration,
			width ($global-menu-transition-duration / 5) $global-menu-transition-duration,
			height ($global-menu-transition-duration / 5) $global-menu-transition-duration;

			.menu-open & {
				width: 100%;
				height: calc(100% + 1px);
				opacity: 1;
				transition: opacity $global-menu-transition-duration;
			}
		}
	}
}
